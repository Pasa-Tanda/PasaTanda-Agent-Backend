# ============================================================================
# SERVIDOR
# ============================================================================
PORT=3000

# ============================================================================
# WHATSAPP CLOUD API
# ============================================================================
WHATSAPP_API_VERSION=v21.0
WHATSAPP_API_TOKEN=tu_token_de_whatsapp_business
WHATSAPP_PHONE_NUMBER_ID=123456789  # Fallback, cada empresa tiene el suyo
WHATSAPP_VERIFY_TOKEN=mi_token_verificacion_webhook

# ============================================================================
# GOOGLE GEMINI AI (CRÍTICO PARA AGENTES INTELIGENTES)
# ============================================================================
# Opción 1: API Key (Desarrollo/Staging) - https://aistudio.google.com/apikey
GOOGLE_GENAI_API_KEY=AIzaSy...
GOOGLE_GENAI_MODEL=gemini-2.5-flash-lite  # Opcional, permite probar variantes como gemini-2.0-pro

# Opción 2: Vertex AI (Producción) - descomentar si se usa
# GOOGLE_GENAI_USE_VERTEXAI=true
# GOOGLE_CLOUD_PROJECT=mi-proyecto-gcp
# GOOGLE_CLOUD_LOCATION=us-central1

# ============================================================================
# GOOGLE OAUTH (Calendar Integration)
# ============================================================================
GOOGLE_OAUTH_CLIENT_ID=123456-abc.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=GOCSPX-abc123
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:3000/auth/google/callback
GOOGLE_OAUTH_SCOPES=https://www.googleapis.com/auth/calendar,https://www.googleapis.com/auth/calendar.events
GOOGLE_OAUTH_ENCRYPTION_KEY=clave_aes_256_bits_aqui_32_caracteres

# Pinata API Key
PINATA_API_KEY=''
PINATA_API_SECRET='..'
PINATA_JWT='..'





# ============================================================================
# SUPABASE (DATABASE)
# ============================================================================
# Pool de conexiones (puerto 6543 con pgbouncer)
SUPABASE_DB_URL=postgresql://postgres.xxxx:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true
SUPABASE_DB_POOL_SIZE=5
SUPABASE_DB_ALLOW_SELF_SIGNED=true

# Credenciales REST API
SUPABASE_URL=https://xxxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_JWT_SECRET=tu-jwt-secret

# Variables auxiliares (expuestas por Supabase CLI)
POSTGRES_DB=postgres
POSTGRES_HOST=db.xxxx.supabase.co
POSTGRES_PASSWORD=tu-password
POSTGRES_PORT=5432
POSTGRES_USER=postgres

# ==========================================================================
# PAYMENT SERVICE / X402 PAYMENT API (Flujo de pagos unificado)
# ==========================================================================
# URL base del backend de pagos (legacy + x402)
PAYMENT_BACKEND_URL=http://localhost:3001
PAYMENT_API_KEY=clave-segura-pagos

# URL de la página principal donde el usuario puede completar el pago
# Se usa para construir: ${MAIN_PAGE_URL}/pay/${orderId}
MAIN_PAGE_URL=https://app.pasatanda.dev

# Webhook público del frontend para confirmar verificación (AgentBE -> FE)
FRONTEND_WEBHOOK_URL=https://app.pasatanda.dev
WEBHOOK_SECRET=

# ============================================================================
# META CATALOG SYNC
# ============================================================================
# Sincronizar catálogos de Meta al iniciar el backend (true/false)
CATALOG_SYNC_ON_STARTUP=true

# ============================================================================
# FALLBACKS / DEVELOPMENT
# ============================================================================
ADMIN_PHONE_NUMBER=+52123456789
DEFAULT_COMPANY_ID=00000000-0000-0000-0000-000000000000
DEFAULT_COMPANY_NAME=PasaTanda Sandbox
DEFAULT_COMPANY_CONFIG={"profile":{"agent_name":"Asistente Virtual"}}

